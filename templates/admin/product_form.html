{% extends 'base.html' %}

{% block content %}
<div class="container">
    <h2>{% if product %}Edit Product{% else %}New Product{% endif %}</h2>
    <form method="POST">
        <div class="form-group">
            <label for="name">Product Name*</label>
            <input type="text" class="form-control" id="name" name="name" 
                   value="{{ product.name if product }}" required>
        </div>
        
        <div class="form-group">
            <label for="description">Description</label>
            <textarea class="form-control" id="description" name="description" 
                      rows="3">{{ product.description if product }}</textarea>
        </div>

        <div class="form-group">
            <label for="delivery_text">Delivery Text</label>
            <textarea class="form-control" id="delivery_text" name="delivery_text" 
                      rows="3">{{ product.delivery_text if product }}</textarea>
            <small class="form-text text-muted">
                This text is displayed to the customer after successful payment.
            </small>
        </div>

        <div class="form-group">
            <label for="price">Price*</label>
            <input type="number" step="0.01" class="form-control" id="price" name="price" 
                   value="{{ product.price if product }}" required>
        </div>

        <div class="form-group">
            <label for="stock">Stock</label>
            <input type="number" class="form-control" id="stock" name="stock" 
                   value="{{ product.stock if product }}">
        </div>

        <div class="form-group">
            <label for="image_url">Image URL</label>
            <input type="text" class="form-control" id="image_url" name="image_url" 
                   value="{{ product.image_url if product }}">
        </div>

        <div class="form-check mb-3">
            <input type="checkbox" class="form-check-input" id="active" name="active" 
                   {{ 'checked' if product and product.active }}>
            <label class="form-check-label" for="active">Active</label>
        </div>

        <button type="submit" class="btn btn-primary">Save</button>
        <a href="{{ url_for('admin_products') }}" class="btn btn-secondary">Cancel</a>
    </form>
</div>
{% endblock %}